<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Responsive Images - Manual Validation Test</title>
    <!--
        Cross Guard Manual Validation Test
        Category: 05_special_patterns
        File: responsive_images.html

        Expected Can I Use IDs:
        - srcset: https://caniuse.com/srcset
        - picture: https://caniuse.com/picture

        Features tested:
        - srcset attribute
        - sizes attribute
        - <picture> element
        - <source> element within picture
    -->
</head>
<body>
    <h1>HTML5 Responsive Images Test</h1>
    <p>This file tests detection of responsive image features.</p>

    <!-- Feature 1: srcset attribute (resolution switching) -->
    <section>
        <h2>Feature: srcset attribute (Resolution Switching)</h2>
        <p>Can I Use ID: <code>srcset</code></p>
        <p>URL: <a href="https://caniuse.com/srcset">caniuse.com/srcset</a></p>

        <h3>Using pixel density descriptors (x)</h3>
        <img src="image-1x.jpg"
             srcset="image-1x.jpg 1x,
                     image-2x.jpg 2x,
                     image-3x.jpg 3x"
             alt="Resolution switching with pixel density"
             width="400" height="300">

        <pre><code>&lt;img src="image-1x.jpg"
     srcset="image-1x.jpg 1x,
             image-2x.jpg 2x,
             image-3x.jpg 3x"
     alt="..."&gt;</code></pre>

        <h3>Using width descriptors (w)</h3>
        <img src="image-400.jpg"
             srcset="image-400.jpg 400w,
                     image-800.jpg 800w,
                     image-1200.jpg 1200w,
                     image-1600.jpg 1600w"
             sizes="(max-width: 600px) 100vw,
                    (max-width: 1200px) 50vw,
                    400px"
             alt="Resolution switching with width descriptors"
             width="400" height="300">

        <pre><code>&lt;img src="image-400.jpg"
     srcset="image-400.jpg 400w,
             image-800.jpg 800w,
             image-1200.jpg 1200w"
     sizes="(max-width: 600px) 100vw,
            (max-width: 1200px) 50vw,
            400px"
     alt="..."&gt;</code></pre>

        <p>The srcset attribute lets browsers choose the best image based on device capabilities.</p>
    </section>

    <!-- Feature 2: sizes attribute -->
    <section>
        <h2>Feature: sizes attribute</h2>
        <p>Part of: <code>srcset</code> feature</p>

        <h3>Simple sizes</h3>
        <img src="hero.jpg"
             srcset="hero-small.jpg 480w,
                     hero-medium.jpg 960w,
                     hero-large.jpg 1920w"
             sizes="100vw"
             alt="Full-width hero image">

        <h3>Complex media conditions</h3>
        <img src="article-image.jpg"
             srcset="article-320.jpg 320w,
                     article-640.jpg 640w,
                     article-960.jpg 960w,
                     article-1280.jpg 1280w"
             sizes="(min-width: 1200px) 1100px,
                    (min-width: 768px) calc(100vw - 60px),
                    (min-width: 480px) calc(100vw - 40px),
                    calc(100vw - 20px)"
             alt="Article image with complex sizes">

        <pre><code>&lt;img srcset="..."
     sizes="(min-width: 1200px) 1100px,
            (min-width: 768px) calc(100vw - 60px),
            (min-width: 480px) calc(100vw - 40px),
            calc(100vw - 20px)"
     alt="..."&gt;</code></pre>

        <p>The sizes attribute tells browsers what size the image will be displayed at different viewports.</p>
    </section>

    <!-- Feature 3: <picture> element -->
    <section>
        <h2>Feature: picture element</h2>
        <p>Can I Use ID: <code>picture</code></p>
        <p>URL: <a href="https://caniuse.com/picture">caniuse.com/picture</a></p>

        <h3>Art direction (different crops)</h3>
        <picture>
            <source media="(min-width: 1200px)" srcset="hero-desktop.jpg">
            <source media="(min-width: 768px)" srcset="hero-tablet.jpg">
            <source media="(min-width: 480px)" srcset="hero-mobile.jpg">
            <img src="hero-fallback.jpg" alt="Hero image with art direction" width="800" height="400">
        </picture>

        <pre><code>&lt;picture&gt;
  &lt;source media="(min-width: 1200px)" srcset="hero-desktop.jpg"&gt;
  &lt;source media="(min-width: 768px)" srcset="hero-tablet.jpg"&gt;
  &lt;source media="(min-width: 480px)" srcset="hero-mobile.jpg"&gt;
  &lt;img src="hero-fallback.jpg" alt="..."&gt;
&lt;/picture&gt;</code></pre>

        <h3>Format selection (WebP with JPEG fallback)</h3>
        <picture>
            <source srcset="image.avif" type="image/avif">
            <source srcset="image.webp" type="image/webp">
            <source srcset="image.jpg" type="image/jpeg">
            <img src="image.jpg" alt="Image with format selection" width="400" height="300">
        </picture>

        <pre><code>&lt;picture&gt;
  &lt;source srcset="image.avif" type="image/avif"&gt;
  &lt;source srcset="image.webp" type="image/webp"&gt;
  &lt;source srcset="image.jpg" type="image/jpeg"&gt;
  &lt;img src="image.jpg" alt="..."&gt;
&lt;/picture&gt;</code></pre>

        <h3>Combined: Art direction + format selection + resolution</h3>
        <picture>
            <!-- Desktop: AVIF with resolution options -->
            <source media="(min-width: 1200px)"
                    srcset="hero-desktop.avif 1x, hero-desktop-2x.avif 2x"
                    type="image/avif">
            <source media="(min-width: 1200px)"
                    srcset="hero-desktop.webp 1x, hero-desktop-2x.webp 2x"
                    type="image/webp">
            <source media="(min-width: 1200px)"
                    srcset="hero-desktop.jpg 1x, hero-desktop-2x.jpg 2x">

            <!-- Tablet: Different crop -->
            <source media="(min-width: 768px)"
                    srcset="hero-tablet.avif" type="image/avif">
            <source media="(min-width: 768px)"
                    srcset="hero-tablet.webp" type="image/webp">
            <source media="(min-width: 768px)"
                    srcset="hero-tablet.jpg">

            <!-- Mobile: Portrait crop -->
            <source srcset="hero-mobile.avif" type="image/avif">
            <source srcset="hero-mobile.webp" type="image/webp">

            <img src="hero-fallback.jpg" alt="Comprehensive responsive image"
                 width="800" height="400" loading="lazy">
        </picture>

        <p>The picture element allows full control over image selection with multiple source options.</p>
    </section>

    <!-- Feature 4: <source> element in picture -->
    <section>
        <h2>Feature: source element within picture</h2>

        <h3>Source with srcset and sizes</h3>
        <picture>
            <source srcset="landscape-400.jpg 400w,
                           landscape-800.jpg 800w,
                           landscape-1200.jpg 1200w"
                    sizes="(min-width: 800px) 50vw, 100vw"
                    media="(orientation: landscape)">
            <source srcset="portrait-400.jpg 400w,
                           portrait-800.jpg 800w"
                    sizes="(min-width: 800px) 50vw, 100vw"
                    media="(orientation: portrait)">
            <img src="default.jpg" alt="Orientation-aware image">
        </picture>

        <pre><code>&lt;picture&gt;
  &lt;source srcset="landscape-400.jpg 400w,
                  landscape-800.jpg 800w"
          sizes="(min-width: 800px) 50vw, 100vw"
          media="(orientation: landscape)"&gt;
  &lt;source srcset="portrait-400.jpg 400w,
                  portrait-800.jpg 800w"
          media="(orientation: portrait)"&gt;
  &lt;img src="default.jpg" alt="..."&gt;
&lt;/picture&gt;</code></pre>
    </section>

    <!-- Practical examples -->
    <section>
        <h2>Practical Responsive Image Examples</h2>

        <h3>Product gallery thumbnail</h3>
        <img src="product-thumb.jpg"
             srcset="product-thumb.jpg 150w,
                     product-thumb-2x.jpg 300w"
             sizes="150px"
             alt="Product thumbnail"
             width="150" height="150">

        <h3>Blog post featured image</h3>
        <picture>
            <source media="(min-width: 1024px)"
                    srcset="featured-wide.webp 1200w, featured-wide-2x.webp 2400w"
                    sizes="(min-width: 1200px) 1100px, calc(100vw - 100px)"
                    type="image/webp">
            <source media="(min-width: 1024px)"
                    srcset="featured-wide.jpg 1200w, featured-wide-2x.jpg 2400w"
                    sizes="(min-width: 1200px) 1100px, calc(100vw - 100px)">
            <source srcset="featured-square.webp 600w, featured-square-2x.webp 1200w"
                    sizes="(min-width: 600px) 50vw, 100vw"
                    type="image/webp">
            <img src="featured-square.jpg"
                 srcset="featured-square.jpg 600w, featured-square-2x.jpg 1200w"
                 sizes="(min-width: 600px) 50vw, 100vw"
                 alt="Blog featured image"
                 loading="lazy">
        </picture>

        <h3>Avatar with high-DPI support</h3>
        <img src="avatar.jpg"
             srcset="avatar.jpg 1x,
                     avatar-2x.jpg 2x,
                     avatar-3x.jpg 3x"
             alt="User avatar"
             width="64" height="64"
             style="border-radius: 50%;">
    </section>

    <!--
        VALIDATION INSTRUCTIONS:

        1. Load this file in Cross Guard
        2. Check that the following features are detected:
           - srcset (srcset attribute on img)
           - sizes (sizes attribute, part of srcset feature)
           - picture (picture element)
        3. Verify browser support for each matches their respective Can I Use pages:
           - https://caniuse.com/srcset
           - https://caniuse.com/picture
        4. Record results in CHECKLIST.md
    -->
</body>
</html>
